<div class="card phd-plan-card m-2" [class.active]="isPlanActive()" [class.phd-no-lot-assocation]="!isAssociatedWithSelectedLot && !isSpecSelected">

	<div class="phd-card-image">
		<image [imageUrl]="plan.baseHouseElevationImageUrl" [defaultImage]="defaultImage" width="286" crop="fill" [imagePlugins]="imagePlugins"></image>
	</div>

	<div class="card-body d-flex flex-column">
		<div class="d-flex">
			<div class="flex-column mr-auto w-100">
				<h5 class="card-title flex-column">{{plan.salesName}}</h5>
			</div>
			<div class="flex-column price">
				{{planPrice | currency:'USD':'symbol':'4.0-0'}}
			</div>
		</div>
		<div class="d-flex mt-auto phd-plan-selection-container" [class.phd-incompatible-lot]="!isAssociatedWithSelectedLot && !isSpecSelected">

			<div *ngIf="(isAssociatedWithSelectedLot && canConfigure) || isSpecSelected" class="flex-column flex-fill">
				<button class="btn w-100 phd-experience-btn-choice" type="button"
						(click)="toggleSelectedPlan(plan)"
						[class.phd-experience-btn-selected]="isPlanSelected(plan) || getDisabled()"
						[disabled]="!isSpecSelected && getDisabled() || isLitePlanDisabled"
						[class.phd-lite-disabled-plan]="isLitePlanDisabled">
					{{getButtonLabel()}}
				</button>
			</div>
			<div *ngIf="!isAssociatedWithSelectedLot && !isSpecSelected" class="flex-column flex-fill text-center">
				Unavailable with Lot {{selectedLot?.lotBlock}}
			</div>
		</div>
	</div>
</div>
