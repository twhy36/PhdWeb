<div class="phd-choice-card-detail">
	<div class="phd-image-section">
		<div class="phd-choice-path">
			<i class="fa fa-arrow-left phd-clickable" (click)="onClickBack()"></i>
			<span>{{path}}</span>
		</div>
		<div class="phd-card-detail-image-body">
			<div *ngIf="imageLoading" class="phd-image-loading">
				<i class="fa fa-spinner fa-spin fa-3x phd-image-loader"></i>
			</div>
			<ngb-carousel #imageCarousel [interval]="0" (slide)="onSlide($event)">
				<ng-template ngbSlide *ngFor="let image of choiceImages; let currentIndex = index;" id="{{currentIndex}}">
					<cl-image public-id="{{image.imageURL}}" (onLoad)="onLoadImage()" (onError)="onLoadImageError($event)" type="fetch" background="#ffffff" crop="lpad" style="height:calc(100vh - 355px);" *ngIf="activeIndex?.current == currentIndex"></cl-image>
				</ng-template>
			</ngb-carousel>
		</div>		
		<span class="phd-image-caption">Images are examples only. Products are subject to change.</span>
		<div>
			<ng-container *ngIf="choiceImages.length <= 10">
				<span *ngFor="let image of choiceImages" class="phd-image-thumbnail phd-clickable">
					<cl-image public-id="{{image.imageURL}}" type="fetch" background="#ffffff" crop="lpad" height="50" width="50"
						class="phd-attribute-item-image" [class.phd-attribute-item-image-selected]="selectedImageUrl === image.imageURL"	
						(onError)="onLoadImageError($event)" (click)="imageClick(image)">
					</cl-image>
				</span>
			</ng-container>
			<ng-container *ngIf="choiceImages.length > 10">
				<p-carousel [value]="choiceImages" [numVisible]="10" [numScroll]="1">
					<ng-template let-image pTemplate="item">
						<cl-image public-id="{{image.imageURL}}" type="fetch" background="#ffffff" crop="lpad" height="50" width="50"
							class="phd-attribute-item-image" [class.phd-attribute-item-image-selected]="selectedImageUrl === image.imageURL"
							(onError)="onLoadImageError($event)" (click)="imageClick(image)">
						</cl-image>
					</ng-template>
				</p-carousel>				
			</ng-container>			
		</div>
		<div class="phd-price">
			<div>
				<strong>{{choice.price | currency:'USD':'symbol':'0.0-0'}}</strong>
			</div>
			<ng-container *ngIf="choice.choiceStatus === 'Contracted'">
				<i class="fa fa-check phd-icon-selected phd-favorite-selector"></i>
			</ng-container>
			<ng-container *ngIf="choice.choiceStatus === 'Available'">
				<div class="phd-clickable phd-favorite-selector">
					<span class="phd-icon-selected"><i *ngIf="choice.isFavorite" class="fa fa-heart" (click)="toggleChoice()"></i></span>
					<i *ngIf="!choice.isFavorite" class="fa fa-heart-o" (click)="toggleChoice()"></i>
				</div>				
			</ng-container>			

		</div>
	</div>
	<div class="phd-info-section">
		<div class="phd-choice-label" id="choiceLabel">{{choice?.label}}</div>
		<div class="phd-choice-desc">{{choice?.description}}</div>
		<div class="d-flex flex-column flex-grow-1" *ngIf="hasAttributes">
			<div class="phd-available-selections">
				<span>AVAILABLE SELECTIONS:</span>
			</div>
		</div>
	</div>	
</div>
