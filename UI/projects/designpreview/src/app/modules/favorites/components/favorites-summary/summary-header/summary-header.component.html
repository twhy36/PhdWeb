<header [ngClass]="(isPresale && !isPresalePricingEnabled) ? 'phd-summary-header-presale' : ''" class="phd-summary-header" [class.is-sticky]="isSticky">
	<ng-container *ngIf="isPresale && !isPresalePricingEnabled">
		<div class="phd-presale-elevation phd-hide-in-print">
			<cl-image *ngIf="summaryHeader.elevationImageUrl" public-id="{{summaryHeader.elevationImageUrl}}" type="fetch" style="width:auto;height:112px;border:'black'" alt="">
				<cl-transformation width="1920" height="1240" background="white" crop="pad" color="grey" effect="outline:outer:4:1"></cl-transformation>
			</cl-image>
		</div>
		<img class="phd-logo-image-sticky phd-hide-in-print" [src]="getImageSrc()" *ngIf="!summaryHeader.elevationImageUrl" alt="">
	</ng-container>
	
	<ng-container *ngIf="(!isPresale || isPresalePricingEnabled) && !isSticky">
		<div class="phd-hide-in-print phd-postsale-elevation">
			<cl-image *ngIf="summaryHeader.elevationImageUrl" public-id="{{summaryHeader.elevationImageUrl}}" type="fetch" style="width:auto;height:360px;margin:10px" crop="fill" alt="">
				<cl-transformation width="1920" height="1240" background="white" crop="pad" color="grey" effect="outline:outer:4:1"></cl-transformation>
			</cl-image>
		</div>
		<img class="phd-logo-image" [src]="getImageSrc()" *ngIf="!summaryHeader.elevationImageUrl" alt="">
	</ng-container>

	<div class="phd-hidden-from-view phd-show-in-print">
		<cl-image *ngIf="summaryHeader.elevationImageUrl" public-id="{{summaryHeader.elevationImageUrl}}" type="fetch" style="width:auto;height:calc(15vw);margin:10px" crop="fill" alt="">
		</cl-image>
		<img class="phd-logo-image phd-hide-in-print" [src]="getImageSrc()" *ngIf="!summaryHeader.elevationImageUrl" alt="">
	</div>

	<div class="phd-header-body">
		<div class="phd-upper-header" [ngClass]="{ 'phd-print-description': (isPresale && !isPresalePricingEnabled) }">
			<div class="phd-name-group">
				<h1 id="favoritesListName" class="phd-favorites-list phd-favorites-list-on-print">{{headerTitle}}</h1>
				<div [ngClass]="{'phd-name-group-presale': (isPresale && !isPresalePricingEnabled)}">
					<span class="phd-lot-label phd-lot-label-on-print">{{summaryHeader.communityName + ((!isPresale || isPresalePricingEnabled) ? ',' : '')}}</span>
					<span *ngIf="!isPresalePricingEnabled" class="phd-lot-details phd-lot-details-on-print" [ngStyle]="{'margin-left': isPresale ? '0px' : '10px'}">{{getPlanName()}}</span>
				</div>
				<ng-container *ngIf="!isPresale || isPresalePricingEnabled">
					<span *ngIf="isPresale && isPresalePricingEnabled" class="phd-lot-details phd-lot-details-on-print" [ngStyle]="{'margin-left': (isPresale) ? '0px' : '10px'}">{{getPlanName()}}</span>
					<span *ngIf="!isPresale" class="phd-lot-label phd-lot-label-on-print">LOT </span>
					<span *ngIf="!isPresale" class="phd-lot-label phd-lot-label-on-print">{{summaryHeader.lot?.lotBlock}}, </span>
					<span *ngIf="!isPresale" class="phd-lot-details phd-lot-details-on-print">{{address}}</span>
				</ng-container>
			</div>
			<div *ngIf="isPresale && !isPresalePricingEnabled && !isSticky" class="phd-vertical-divider phd-hide-in-print"></div>
			<div *ngIf="isPresale && !isPresalePricingEnabled && !isSticky" class="phd-print-description-items phd-hide-in-print">
				<button aria-label="Print"><i class="fa fa-solid fa-print fa-3x phd-clickable" (click)="onPrint()"></i></button>
				<span class="phd-print-text">Print or save a copy of your favorite options to share. Your selections will not be saved when this window is closed.</span>
			</div>
		</div>
		<div *ngIf="!isSticky && (!isPresale || isPresalePricingEnabled)" class="phd-divider phd-hide-in-print"></div>
		<ul *ngIf="!isSticky && (!isPresale || isPresalePricingEnabled)" class="phd-price-breakdown phd-hide-in-print">
			<li class="d-flex">
				<span class="phd-breakdown-label">{{ isPresalePricingEnabled ? 'Estimated Base Price:' : 'Base Price:' }}</span>
				<span class="phd-breakdown-content">{{priceBreakdown?.baseHouse | currency:'USD':'symbol':'0.0-0'}}</span>
			</li>
			<li *ngIf="!isPresale" class="d-flex">
				<span class="phd-breakdown-label">Lot Premium:</span>
				<span class="phd-breakdown-content">{{priceBreakdown?.homesite | currency:'USD':'symbol':'0.0-0'}}</span>
			</li>
			<li *ngIf="!isPreview && !isPresale" class="d-flex">
				<span class="phd-breakdown-label">{{isDesignComplete ? 'Options Total:' : 'Pending & Contracted Options:'}}</span>
				<span class="phd-breakdown-content">{{priceBreakdown?.selections | currency:'USD':'symbol':'0.0-0'}}</span>
			</li>
			<li *ngIf="priceBreakdown.salesProgram && !isPresale" class="d-flex">
				<span class="phd-breakdown-label">Adjustments to Price:</span>
				<span class="phd-breakdown-content">({{priceBreakdown?.salesProgram | currency:'USD':'symbol':'0.0-0'}})</span>
			</li>
			<li *ngIf="priceBreakdown.priceAdjustments && !isPresale" class="d-flex">
				<span class="phd-breakdown-label">Price Adjustments:</span>
				<span class="phd-breakdown-content">{{priceBreakdown?.priceAdjustments | currency:'USD':'symbol':'0.0-0' | minusSignToParens}}</span>
			</li>
			<li *ngIf="priceBreakdown.nonStandardSelections && !isPresale" class="d-flex">
				<span class="phd-breakdown-label">Non-Standard Options:</span>
				<span class="phd-breakdown-content">{{priceBreakdown?.nonStandardSelections | currency:'USD':'symbol':'0.0-0'}}</span>
			</li>
			<li *ngIf="!isDesignComplete" class="phd-estimate">
				<span class="phd-breakdown-label">Estimated Favorites Total:</span>
				<span class="phd-breakdown-content">{{priceBreakdown?.favoritesPrice | currency:'USD':'symbol':'0.0-0'}}</span>
			</li>
			<li class="phd-estimate">
				<span class="phd-breakdown-label">{{ getTotalPriceLabel() }}</span>
				<span class="phd-breakdown-content">{{priceBreakdown?.totalPrice | currency:'USD':'symbol':'0.0-0'}}</span>
			</li>
			<li *ngIf="priceBreakdown.closingIncentive && !isPresale" class="d-flex">
				<span class="phd-breakdown-label">Closing Cost Incentive:</span>
				<span class="phd-breakdown-content">{{(priceBreakdown?.closingIncentive + priceBreakdown.closingCostAdjustment) | currency:'USD':'symbol':'0.0-0'}}</span>
			</li>
		</ul>
		<ng-container *ngIf="!isSticky">
			<div class="phd-divider phd-hide-in-print"></div>
			<span class="phd-favorites-disclaimer phd-hide-in-print">{{ disclaimerText }}</span>
			<div *ngIf="isPresale && isPresalePricingEnabled && !isSticky" class="phd-print-description-items-presale-pricing phd-hide-in-print">
				<button aria-label="Print"><i class="fa fa-solid fa-print fa-2x phd-clickable" (click)="onPrint()"></i></button>
				<span class="phd-print-text">Print or save a copy of your favorite options to share. Your selections will not be saved when this window is closed.</span>
			</div>
		</ng-container>
	</div>
</header>
<header *ngIf="!isPresale || isPresalePricingEnabled" class="phd-show-in-print">
	<div class="phd-top-price-spacer"></div>
	<div class="phd-divider"></div>
	<div class="phd-price-breakdown phd-hidden-from-view phd-show-in-print">
		<div class="d-flex phd-print-indent">
			<span class="phd-breakdown-label">{{ isPresalePricingEnabled ? 'Estimated Base Price:' : 'Base Price:' }}</span>
			<span class="phd-breakdown-content">{{priceBreakdown?.baseHouse | currency:'USD':'symbol':'0.0-0'}}</span>
		</div>
		<div *ngIf="!isPresale" class="d-flex phd-print-indent">
			<span class="phd-breakdown-label">Lot Premium:</span>
			<span class="phd-breakdown-content">{{priceBreakdown?.homesite | currency:'USD':'symbol':'0.0-0'}}</span>
		</div>
		<div *ngIf="!isPreview && !isPresale" class="d-flex phd-print-indent">
			<span class="phd-breakdown-label">{{isDesignComplete ? 'Options Total:' : 'Pending & Contracted Options:'}}</span>
			<span class="phd-breakdown-content">{{priceBreakdown?.selections | currency:'USD':'symbol':'0.0-0'}}</span>
		</div>
		<div *ngIf="priceBreakdown.salesProgram" class="d-flex phd-print-indent">
			<span class="phd-breakdown-label">Sales Incentive:</span>
			<span class="phd-breakdown-content">({{priceBreakdown?.salesProgram | currency:'USD':'symbol':'0.0-0'}})</span>
		</div>
		<div *ngIf="priceBreakdown.priceAdjustments && !isPresale" class="d-flex phd-print-indent">
			<span class="phd-breakdown-label">Price Adjustments:</span>
			<span class="phd-breakdown-content">{{priceBreakdown?.priceAdjustments | currency:'USD':'symbol':'0.0-0' | minusSignToParens}}</span>
		</div>
		<div *ngIf="priceBreakdown.nonStandardSelections && !isPresale" class="d-flex phd-print-indent">
			<span class="phd-breakdown-label">Non-Standard Options:</span>
			<span class="phd-breakdown-content">{{priceBreakdown?.nonStandardSelections | currency:'USD':'symbol':'0.0-0'}}</span>
		</div>
		<div *ngIf="!isDesignComplete" class="phd-estimate phd-print-indent">
			<span class="phd-breakdown-label">Estimated Favorites Total:</span>
			<span class="phd-breakdown-content">{{priceBreakdown?.favoritesPrice | currency:'USD':'symbol':'0.0-0'}}</span>
		</div>
		<div class="phd-estimate phd-print-indent">
			<span class="phd-breakdown-label">{{ getTotalPriceLabel() }}</span>
			<span class="phd-breakdown-content">{{priceBreakdown?.totalPrice | currency:'USD':'symbol':'0.0-0'}}</span>
		</div>
		<div *ngIf="priceBreakdown.closingIncentive && !isPresale" class="d-flex phd-print-indent">
			<span class="phd-breakdown-label">Closing Cost Incentive:</span>
			<span class="phd-breakdown-content">{{(priceBreakdown?.closingIncentive + priceBreakdown.closingCostAdjustment) | currency:'USD':'symbol':'0.0-0'}}</span>
		</div>
	</div>
	<div class="phd-bottom-price-spacer"></div>
	<div class="phd-divider"></div>
</header>