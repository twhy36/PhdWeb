<div class="d-flex">
	<ng-container *ngIf="!isDesignComplete">
		<button class="phd-attribute-group-toggle phd-clickable" [attr.aria-controls]="'att' + attributeGroup.id">
			<i class="fa fa-angle-up" *ngIf="!isCollapsed" aria-expanded="true" aria-label="Collaps Attribute Group" (click)="onToggleAttributeGroup()"></i>
			<i class="fa fa-angle-down" *ngIf="isCollapsed" aria-expanded="false" aria-label="Expand Attribute Group" (click)="onToggleAttributeGroup()"></i>
		</button>
	</ng-container>
	<div [class.phd-attribute-group-complete]="isDesignComplete" id="{{'att' + attributeGroup.id}}">
		<ng-container *ngIf="!isDesignComplete">
			<span class="phd-attribute-group-header" [class.phd-location-attribute-header]="isLocationAttribute" title="{{attributeGroup.label}}">{{attributeGroup.label}}</span>
			<div class="phd-attribute-group-instruction" *ngIf="!isCollapsed && !isBlocked">
				Please select all that interest you
			</div>
			<h4 class="phd-selected-attributes" *ngIf="isCollapsed">{{getSelectedAttributes()}}</h4>
		</ng-container>

		<ng-container *ngIf="isDesignComplete">
			<h3 class="phd-attribute-group-header" [class.phd-location-attribute-header-complete]="isLocationAttribute" title="{{attributeGroup.label}}">{{attributeGroup.label}}</h3>
		</ng-container>

		<div *ngIf="!isCollapsed"
			[class.phd-attribute-group-body]="!isLocationAttribute" 
			[class.phd-location-attribute-body]="isLocationAttribute && !isDesignComplete"
			[class.phd-location-attribute-body-complete]="isLocationAttribute && isDesignComplete">
			<attribute-list [attributes]="attributeGroup?.attributes"
							[highlightedAttributeId]="highlightedAttributeId"
							[isBlocked]="isBlocked"
							[isLocationAttribute]="isLocationAttribute"
							[isReadonly]="isReadonly"
							(attributeClick)="handleAttributeClick($event)"
							(toggleAttribute)="handleToggleAttribute($event)">
			</attribute-list>
		</div>	
	</div>
</div>
